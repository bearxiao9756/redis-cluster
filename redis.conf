# redis.conf
# 允许外部访问
bind 0.0.0.0
protected-mode no

# 开启集群模式
cluster-enabled yes
cluster-config-file nodes.conf
cluster-node-timeout 5000

# 集群节点通信端口（服务端口 + 10000）
# 在 docker-compose.yml 中配置了 SERVICE_PORT 变量
# 容器内实际端口仍是 6379，这里只是一个占位符，但在集群初始化时，redis-cli 会处理端口
# 最佳实践是将这些配置留给 docker-compose 和环境变量处理

# 持久化
appendonly yes